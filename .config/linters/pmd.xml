<?xml version="1.0"?>
<ruleset name="Custom PMD Rules"
         xmlns="http://pmd.sourceforge.net/ruleset/2.0.0">

    <description>
        PMD linting rules tailored to SpeedRunPlus
    </description>

    <!-- Exclusions from code-style -->
    <rule ref="category/java/codestyle.xml">
        <exclude name="OnlyOneReturn"/>
        <exclude name="MethodArgumentCouldBeFinal"/>
        <exclude name="LocalVariableCouldBeFinal"/>
    </rule>
    <rule ref="category/java/codestyle.xml/ControlStatementBraces">
        <properties>
            <property name="checkIfElseStmt" value="false" />
            <property name="checkSingleIfStmt" value="false" />
            <property name="checkWhileStmt" value="true" />
            <property name="checkForStmt" value="true" />
            <property name="checkDoWhileStmt" value="true" />
            <property name="checkCaseStmt" value="false" />
            <property name="allowEmptyLoop" value="false" />
        </properties>
    </rule>
    <rule ref="category/java/codestyle.xml/LongVariable">
        <properties>
            <property name="minimum" value="30" />
        </properties>
    </rule>

    <!-- Exclusions from documentation -->
    <rule ref="category/java/documentation.xml"/>
    <rule ref="category/java/documentation.xml/CommentSize">
        <properties>
            <property name="maxLines" value="20" />
            <property name="maxLineLength" value="120" />
        </properties>
    </rule>
    <rule ref="category/java/documentation.xml/CommentRequired">
        <properties>
            <property name="publicMethodCommentRequirement" value="Required" />
            <property name="protectedMethodCommentRequirement" value="Required" />
            <property name="classCommentRequirement" value="Required" />
            <property name="methodWithOverrideCommentRequirement" value="Ignored" />
            <property name="accessorCommentRequirement" value="Ignored" />
            <property name="fieldCommentRequirement" value="Ignored" />
            <property name="enumCommentRequirement" value="Ignored" />
            <property name="serialVersionUIDCommentRequired" value="Ignored" />
            <property name="serialPersistentFieldsCommentRequired" value="Ignored" />
        </properties>
    </rule>

    <rule ref="category/java/bestpractices.xml">
        <exclude name="GuardLogStatement"/>
    </rule>

    <rule ref="category/java/design.xml"/>
    <rule ref="category/java/design.xml/LawOfDemeter">
        <properties>
            <property name="trustRadius" value="2"/>
        </properties>
    </rule>
    <rule ref="category/java/design.xml/TooManyFields">
        <properties>
            <property name="maxfields" value="30" />
        </properties>
    </rule>
    <rule ref="category/java/design.xml/TooManyMethods">
        <properties>
            <property name="maxmethods" value="20" />
        </properties>
    </rule>

    <rule ref="category/java/errorprone.xml"/>
    <rule ref="category/java/multithreading.xml"/>
    <rule ref="category/java/performance.xml"/>
    <rule ref="category/java/security.xml"/>

</ruleset>